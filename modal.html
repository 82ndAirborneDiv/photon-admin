<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8 />
<title>Child Callback - Parent Window</title>
</head>
<body>
  <input type="button" id="btnOpen" value="Open Child Win">
  <script>
    (function() {
      var child;
      
      document.getElementById("btnOpen").onclick = function() {
        if (!child) {
          child = window.open("child.html");
        }
      };
      
      window.callback = function(value) {
        display("Got callback from child, value = " + value);
      };
      
      function display(msg) {
        var p = document.createElement('p');
        p.innerHTML = String(msg);
        document.body.appendChild(p);
      }
    })();
  </script>
</body>
</html>