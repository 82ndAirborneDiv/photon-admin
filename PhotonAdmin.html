<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Photon Admin JSON Generator</title>


    <link rel="stylesheet" href="css/main.css">
     <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css"/>
    <link href="css/jquery.tagit.css" rel="stylesheet" type="text/css">
    <link href="css/tagit.ui-zendesk.css" rel="stylesheet" type="text/css">

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js" type="text/javascript" charset="utf-8"></script>

    <!-- The real deal -->
    <script src="js/tag-it.js" type="text/javascript" charset="utf-8"></script>

    <script>
        $(function(){
            var sampleTags = ['c++', 'java', 'php', 'coldfusion', 'javascript', 'asp', 'ruby',                  'python', 'c', 'scala', 'groovy', 'haskell', 'perl', 'erlang', 'apl', 'cobol', 'go', 'lua'];

       
            $('#ArticleKeywords').tagit({
                availableTags: sampleTags
            });

           
            
        });
        
       
        
        $(function() {
            $( "#IssueDate" ).datepicker();
             $( "#IssueDate" ).datepicker("option", "dateFormat", "MM d, yy");
        });
        
        
        $(document).ready(function(){
       
//           $( "#JSONBlurb" ).load( "http://www.cdc.gov/mmwr/preview/mmwrhtml/mm6245a2.htm?s_cid=mm6245a2_w", function() {
//  alert( "Load was performed." );
//});
    
  $("#serializeButton").click(function(){
      //var JSONArticle = "poo";
      var title = $("#IssueDate").val() + " / Vol. " + $("#IssueVolume").val()
        + " / No. "+  $("#IssueNumber").val();
      var tagstring = $("#ArticleKeywords").val();
      var tagarray = tagstring.split(",");
      var tags = JSON.stringify(tagarray)
     var article = {"title":$("#IssueTitle").val(),
                    "already_known":$("#AlreadyKnownInfo").val(),
                    "added_by_report":$("#AddedInfo").val(),
                     "implications":$("#Implications").val(),
                    "tags":tagarray};
      var JSONArticle = {"title":title,
                        "articles":[article]};
      $("#JSONBlurb").val(JSON.stringify(JSONArticle));
    //  };
  });
});
    </script>

</head>
<body>
<div id="header"><div class="page_title">Photon Admin JSON Generator</div>
</div>
<br>
    <form action="">
<p><label for "IssueDate" class="top_fields">Issue Date:</label> <input type="text" name="FirstName" value="May 29, 1981" id="IssueDate" size="19"/></p>
<p><label for "IssueVolume" class="top_fields">Volume Number:</label> <input  type="text" name="LastName" value="62" id="IssueVolume" size="12"/></p>
<p><label for "IssueNumber" class="top_fields">Issue Number:</label> <input type="text" name="IssueNumber" value="43" id="IssueNumber" size="12"/></p>
         <p><label for "IssueTitle" class="top_fields">Article Title:</label> <textarea type="text" name="ArticleTitle" id="IssueTitle" rows="4" cols="60"></textarea></p>
       
        <div>
        <p><label for "KeywordLookup" class="top_fields">Article Subjects:</label> 
            
            <input type="text" name="ArticleKeywords" id="ArticleKeywords" size="40" /> 
<!--        <button name="AddKeyword" id="btnFoo">Add</button>-->
        <br>
        </div>
       <br/>
       
        <div id="bluebox">
            Blue Box Topics<br> 
            
            <p><div class="label_above"><label for "AlreadyKnownInfo" class="bluebox_topics">What is <strong>already known</strong> on this topic?</label><br/> <textarea type="text" id="AlreadyKnownInfo" rows="4" cols="70" ></textarea></div></p>
            <p><div class="label_above"><label for "AddedInfo" class="bluebox_topics">What is <strong>added</strong> by this report?</label><br/> <textarea type="text" id="AddedInfo" rows="4" cols="70"></textarea></div></p>
            <p><div class="label_above"><label for "Implications" class="bluebox_topics">What are the <strong>implications for public health practice</strong>?</label><br/> <textarea type="text" id="Implications" rows="4" cols="70" ></textarea></div></p>
        </div>

</form>
<div id="serialize_button">
<button id="serializeButton">Serialize form values</button></div>
<p><div class="label_above">
<label for "JSONBlurb" class="bluebox_topics">JSON Blurb:</label> <br/> <textarea type="text" name="JSONBlurb" id="JSONBlurb" rows="5" cols="80"></textarea></p>
<!--
<div id="CopyButton">
<button id="CopyButton" onClick="ClipBoard();">Copy to Clipboard</button></div>
<div id="blar"></div>
-->

</body>
</html>

